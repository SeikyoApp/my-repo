options:
  logging: CLOUD_LOGGING_ONLY

steps:
  # ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚¹ãƒ†ãƒƒãƒ—
  - name: 'python:3.9-slim'
    entrypoint: 'sh'
    args:
      - '-c'
      - |
        echo "ğŸ” Checking workspace contents..."
        ls -al
        echo "âš™ï¸ Installing dependencies..."
        pip install --upgrade pip
        pip install --target=/workspace/packages -r requirements.txt
        echo "ğŸ“¦ Installed packages:"
        pip list

  # ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã‚¹ãƒ†ãƒƒãƒ—
  - name: 'python:3.9-slim'
    entrypoint: 'sh'
    args:
      - '-c'
      - |
        echo "ğŸš€ Running script..."
        PYTHONPATH="/workspace/packages:$PYTHONPATH" python ClinicalTrials_gov_API.py

timeout: 600s
